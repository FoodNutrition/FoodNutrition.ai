(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1610:(e,s,t)=>{Promise.resolve().then(t.bind(t,5805))},5805:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>S});var r=t(2265),a=t(6728),n=t(6113),i=t(4322),l=t(5343),c=t(2929),d=t(9328),o=t(7079),x=t(2703),m=t(7437);function h(){let{0:e,1:s}=(0,r.useState)({});(0,r.useEffect)(()=>{let e=localStorage.getItem("heatmapData");e&&s(JSON.parse(e))},[]);let t=new Date,a=(0,c.D)({start:(0,d.z)((0,o.k)(t,243),{weekStartsOn:1}),end:t}),n=[];for(let e=0;e<a.length;e+=7){let s=a.slice(e,e+7);for(;s.length<7;)s.push(new Date(NaN));n.push(s)}return(0,m.jsx)("div",{className:"flex space-x-0.5 overflow-x-auto",children:n.map((s,t)=>(0,m.jsx)("div",{className:"flex flex-col space-y-0.5",children:s.map((s,t)=>{var r;if(isNaN(s.getTime()))return(0,m.jsx)("div",{className:"w-1.5 h-1.5 rounded-sm bg-transparent"},t);let a=(0,x.WU)(s,"yyyy-MM-dd"),n=(null===(r=e[a])||void 0===r?void 0:r.length)>0;return(0,m.jsx)("div",{title:a,className:"w-1.5 h-1.5 rounded-sm ".concat(n?"bg-green-400":"bg-gray-200")},t)})},t))})}function u(){return(0,m.jsx)(n.z,{variant:"custom",size:"sm",className:"font-medium text-sm px-3 py-1 w-full",asChild:!0,children:(0,m.jsx)(l.default,{href:"/progress",className:"flex items-center justify-center mb-8 h-full ",children:(0,m.jsxs)("div",{className:"flex items-center space-x-4 px-4 py-3 bg-gray-50/50 hover:bg-gray-100 text-blue-600 hover:text-blue-800 rounded-lg border border-gray-200/50",children:[(0,m.jsx)("div",{className:"flex items-center space-x-2",children:(0,m.jsx)(i.Z,{className:"h-4 w-4"})}),(0,m.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,m.jsx)(h,{}),(0,m.jsx)("span",{className:"font-medium text-sm px-3 py-1",children:"View →"})]})]})})})}var p=t(2547),g=t(5733),f=t(1398),j=t(1426),b=t(9113);function y(e){let{input:s,isLoading:t,handleSubmit:r,setInput:a}=e;return(0,m.jsx)("form",{onSubmit:r,children:(0,m.jsxs)("div",{className:"relative border focus-within:border-transparent shadow-sm p-4 border-gray-300 rounded-3xl focus-within:outline-none focus-within:ring-2 focus-within:ring-green-500",children:[(0,m.jsx)("textarea",{className:"w-full min-h-[40px] max-h-[240px] text-base resize-none overflow-y-auto border-none focus:outline-none focus:ring-0 focus:border-none",onInput:e=>{e.currentTarget.style.height="auto",e.currentTarget.style.height="".concat(e.currentTarget.scrollHeight,"px"),a(e.currentTarget.value)},value:s,placeholder:"Tell me about yourself: age, weight, height, activity level, goals, dietary restrictions...",onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),r(e))},rows:1}),(0,m.jsxs)("div",{className:"flex items-center justify-between",children:[(0,m.jsxs)("div",{className:"flex items-center space-x-1 md:space-x-2 overflow-x-auto",children:[(0,m.jsxs)(n.z,{type:"button",variant:"ghost",size:"sm",className:"h-7 md:h-8 px-2 md:px-3 text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-full border-0 whitespace-nowrap",onClick:()=>a("Create a weight loss plan"),children:[(0,m.jsx)(p.Z,{className:"h-3 w-3 mr-1"}),(0,m.jsx)("span",{className:"hidden sm:inline",children:"Weight Loss"}),(0,m.jsx)("span",{className:"sm:hidden",children:"Loss"})]}),(0,m.jsxs)(n.z,{type:"button",variant:"ghost",size:"sm",className:"h-7 md:h-8 px-2 md:px-3 text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-full border-0 whitespace-nowrap",onClick:()=>a("I want to gain muscle mass"),children:[(0,m.jsx)(g.Z,{className:"h-3 w-3 mr-1"}),(0,m.jsx)("span",{className:"hidden sm:inline",children:"Muscle Gain"}),(0,m.jsx)("span",{className:"sm:hidden",children:"Muscle"})]}),(0,m.jsxs)(n.z,{type:"button",variant:"ghost",size:"sm",className:"h-7 md:h-8 px-2 md:px-3 text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-full border-0 whitespace-nowrap",onClick:()=>a("Vegetarian meal plan needed"),children:[(0,m.jsx)(f.Z,{className:"h-3 w-3 mr-1"}),(0,m.jsx)("span",{className:"hidden sm:inline",children:"Vegetarian"}),(0,m.jsx)("span",{className:"sm:hidden",children:"Veg"})]}),(0,m.jsxs)(n.z,{type:"button",variant:"ghost",size:"sm",className:"h-7 md:h-8 px-2 md:px-3 text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-full border-0 whitespace-nowrap",onClick:()=>a("Help with meal prep ideas"),children:[(0,m.jsx)(j.Z,{className:"h-3 w-3 mr-1"}),(0,m.jsx)("span",{className:"hidden sm:inline",children:"Meal Prep"}),(0,m.jsx)("span",{className:"sm:hidden",children:"Prep"})]})]}),(0,m.jsx)(n.z,{type:"submit",disabled:!s.trim()||t,className:"bg-green-600 hover:bg-green-700 text-white p-1.5 md:p-2 rounded-lg h-7 w-7 md:h-8 md:w-8 ml-2",children:(0,m.jsx)(b.Z,{className:"w-3 h-3 md:w-4 md:h-4"})})]})]})})}var v=t(991);function w(){return(0,m.jsxs)("div",{className:"text-center mb-6",children:[(0,m.jsxs)("span",{className:"text-4xl font-semibold text-gray-900 mb-2 flex items-center justify-center gap-2",children:[(0,m.jsx)(v.Z,{className:"h-8 w-8 text-green-600"}),(0,m.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Food Nutrition AI"})]}),(0,m.jsx)("p",{className:"text-gray-600",children:"Your personal AI nutrition coach"})]})}function N(e){let{input:s,isLoading:t,handleSubmit:r,setInput:n}=e;return(0,m.jsx)("div",{className:" bg-white",children:(0,m.jsx)("div",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-80px)] px-4",children:(0,m.jsxs)("div",{className:"w-full max-w-3xl",children:[(0,m.jsx)(w,{}),(0,m.jsxs)("div",{className:"mb-8 flex flex-col",children:[(0,m.jsx)(u,{}),(0,m.jsx)(y,{input:s,isLoading:t,handleSubmit:r,setInput:n})]}),(0,m.jsx)("div",{className:"text-center",children:(0,m.jsxs)("div",{className:"inline-flex items-center space-x-2 px-4 py-2 bg-gray-50 rounded-full text-sm text-gray-600",children:[(0,m.jsx)(a.Z,{className:"h-4 w-4 text-blue-500"}),(0,m.jsx)("span",{children:"Get personalized nutrition plans with visual progress tracking"})]})})]})})})}function k(e){let{input:s,isLoading:t,handleSubmit:r,setInput:a,selectedDateForHistory:n,messages:i}=e;return(0,m.jsxs)("div",{className:"min-h-screen relative",children:[(0,m.jsx)("div",{className:"sticky top-0 px-6 py-4 border-b border-gray-100 bg-gray-50 ",children:(0,m.jsxs)("div",{className:" max-w-4xl flex flex-col md:flex-row gap-2 items-center justify-between m-auto",children:[(0,m.jsx)("div",{className:"items-center justify-between flex",children:(0,m.jsxs)("div",{children:[(0,m.jsx)("h3",{className:"text-lg font-semibold text-gray-900 text-center md:text-left",children:new Date(n).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),(0,m.jsx)("p",{className:"text-sm text-gray-600 mt-1 text-center md:text-left",children:"Your nutrition conversations from this day"})]})}),(0,m.jsxs)(l.default,{href:"/progress",className:"flex justify-center items-center text-blue-600 hover:text-blue-800",children:[(0,m.jsx)(h,{}),(0,m.jsxs)("span",{className:"font-medium text-sm px-3 py-1 flex items-center",children:[(0,m.jsx)("span",{className:"hidden md:flex",children:"View"})," →"]})]})]})}),(0,m.jsxs)("div",{className:"bg-white flex flex-col max-w-4xl m-auto",children:[(0,m.jsx)("div",{className:"space-y-6 flex-1 px-6 py-6 overflow-y-auto",children:i.length>0?i.map((e,s)=>(0,m.jsx)("div",{className:"group",children:"user"===e.role?(0,m.jsx)("div",{className:"flex justify-end",children:(0,m.jsxs)("div",{className:"max-w-[80%]",children:[(0,m.jsx)("div",{className:"bg-gray-100 rounded-2xl px-4 py-3 text-gray-900",children:e.content}),(0,m.jsx)("div",{className:"text-xs text-gray-500 mt-1 text-right",children:new Date(e.timestamp).toLocaleTimeString()})]})}):(0,m.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,m.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:(0,m.jsx)("span",{className:"text-white text-sm font-medium",children:"AI"})}),(0,m.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,m.jsx)("div",{className:"bg-white border border-gray-200 rounded-2xl px-4 py-3 text-gray-900 shadow-sm",children:e.content}),(0,m.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:new Date(e.timestamp).toLocaleTimeString()})]})]})},s)):(0,m.jsx)("div",{className:"text-center h-[65vh] flex-1 flex justify-center items-center py-12 text-gray-500",children:(0,m.jsx)(w,{})})}),(0,m.jsx)("div",{className:"sticky bottom-0 px-6 py-2 pb-3 bg-white mt-auto",children:(0,m.jsx)(y,{input:s,isLoading:t,handleSubmit:r,setInput:a})})]})," "]})}var O=t(7431);function S(){let{0:e,1:s}=(0,r.useState)([]),{0:t,1:a}=(0,r.useState)(""),{0:n,1:i}=(0,r.useState)(!1),{0:l,1:c}=(0,r.useState)(!1),{0:d,1:o}=(0,r.useState)(!1),x=async e=>{o(!0)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("span",{className:(0,O.cn)("hidden md:hidden",!d&&"md:block"),children:(0,m.jsx)(N,{input:t,isLoading:n,handleSubmit:x,setInput:a})}),(0,m.jsx)("span",{className:(0,O.cn)("block md:hidden",d&&"md:block"),children:(0,m.jsx)(k,{input:t,isLoading:n,handleSubmit:x,setInput:a,selectedDateForHistory:new Date,messages:e})})]})}},6113:(e,s,t)=>{"use strict";t.d(s,{z:()=>h});var r=t(665),a=t(2469),n=t(2265),i=t(2312),l=t(9662),c=t(7431),d=t(7437);let o=["className","variant","size","asChild"];function x(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);s&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),t.push.apply(t,r)}return t}let m=(0,l.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",custom:""},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),h=n.forwardRef((e,s)=>{let{className:t,variant:n,size:l,asChild:h=!1}=e,u=(0,a.Z)(e,o),p=h?i.g7:"button";return(0,d.jsx)(p,function(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?x(Object(t),!0).forEach(function(s){(0,r.Z)(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}({className:(0,c.cn)(m({variant:n,size:l,className:t})),ref:s},u))});h.displayName="Button"},7431:(e,s,t)=>{"use strict";t.d(s,{cn:()=>n});var r=t(7214),a=t(465);function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,a.m6)((0,r.W)(s))}}},e=>{var s=s=>e(e.s=s);e.O(0,[476,381,130,427,744],()=>s(1610)),_N_E=e.O()}]);