(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[929],{5446:(e,s,t)=>{Promise.resolve().then(t.bind(t,1772))},1772:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>z});var n=t(2265),a=t(6728),l=t(6113),r=t(4322),i=t(5343),c=t(9285),d=t(7437);function o(){return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:"font-medium text-sm px-3 py-1",children:(0,d.jsx)("div",{className:"flex items-center justify-center mb-8 h-full ",children:(0,d.jsx)(l.z,{variant:"custom",asChild:!0,className:"flex items-center h-full space-x-4 px-4 py-3 bg-gray-50/50 hover:bg-gray-100 text-blue-600 hover:text-blue-800 rounded-lg border border-gray-200/50",children:(0,d.jsxs)(i.default,{href:"/progress",children:[(0,d.jsx)("div",{className:"flex items-center space-x-2",children:(0,d.jsx)(r.Z,{className:"h-4 w-4"})}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(c.B,{}),(0,d.jsx)("span",{className:"font-medium text-sm px-3 py-1",children:"View →"})]})]})})})})})}var m=t(2547),x=t(5733),h=t(1398),u=t(1426),p=t(9113);function g(e){let{input:s,isLoading:t,handleSubmit:a,setInput:r}=e,i=(0,n.useRef)(null),c=()=>{null!=i&&i.current&&(i.current.style.height="auto",i.current.style.height="".concat(i.current.scrollHeight,"px"))};(0,n.useEffect)(()=>(window.addEventListener("resize",c),()=>{window.removeEventListener("resize",c)}),[]),(0,n.useEffect)(()=>{c()},[s]);let o=e=>{r(e),null!=i&&i.current&&(null==i||i.current.focus())},g=s.trim().length>3&&s.trim().length<500,f=e=>{e.preventDefault(),g&&a(e)};return(0,d.jsx)("form",{onSubmit:f,children:(0,d.jsxs)("div",{className:"relative border focus-within:border-transparent shadow-sm p-4 border-gray-300 rounded-3xl focus-within:outline-none focus-within:ring-2 focus-within:ring-green-500",children:[(0,d.jsx)("textarea",{ref:i,className:"w-full min-h-[40px] max-h-[240px] text-base resize-none overflow-y-auto border-none focus:outline-none focus:ring-0 focus:border-none",onChange:e=>{r(e.currentTarget.value)},value:s,placeholder:"Tell me about yourself: age, weight, height, activity level, goals, dietary restrictions...",onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),f(e))},rows:1}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-1 md:space-x-2 overflow-x-auto",children:[(0,d.jsxs)(l.z,{type:"button",variant:"ghost",size:"sm",className:"h-7 md:h-8 px-2 md:px-3 text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-full border-0 whitespace-nowrap",onClick:()=>o("I'm a 29-year-old female, 68kg, 165cm. I have a moderately active lifestyle and want to lose 5-7kg in the next 3 months. I enjoy balanced meals and prefer simple recipes."),children:[(0,d.jsx)(m.Z,{className:"h-3 w-3 mr-1"}),(0,d.jsx)("span",{className:"hidden sm:inline",children:"Weight Loss"}),(0,d.jsx)("span",{className:"sm:hidden",children:"Loss"})]}),(0,d.jsxs)(l.z,{type:"button",variant:"ghost",size:"sm",className:"h-7 md:h-8 px-2 md:px-3 text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-full border-0 whitespace-nowrap",onClick:()=>o("I'm a 34-year-old female, 62kg, 168cm. I do strength training twice a week and want to improve muscle tone. I prefer balanced, nutrient-dense meals and easy prep."),children:[(0,d.jsx)(x.Z,{className:"h-3 w-3 mr-1"}),(0,d.jsx)("span",{className:"hidden sm:inline",children:"Muscle Gain"}),(0,d.jsx)("span",{className:"sm:hidden",children:"Muscle"})]}),(0,d.jsxs)(l.z,{type:"button",variant:"ghost",size:"sm",className:"h-7 md:h-8 px-2 md:px-3 text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-full border-0 whitespace-nowrap",onClick:()=>o("I'm a 38-year-old male, 78kg, 180cm. I'm a vegetarian who cycles to work daily. I want meals high in protein and iron, with easy-to-find ingredients."),children:[(0,d.jsx)(h.Z,{className:"h-3 w-3 mr-1"}),(0,d.jsx)("span",{className:"hidden sm:inline",children:"Vegetarian"}),(0,d.jsx)("span",{className:"sm:hidden",children:"Veg"})]}),(0,d.jsxs)(l.z,{type:"button",variant:"ghost",size:"sm",className:"h-7 md:h-8 px-2 md:px-3 text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-full border-0 whitespace-nowrap",onClick:()=>o("I'm a 31-year-old female, 65kg, 170cm. I work long hours and want healthy meals I can prep for the week. I prefer quick recipes with minimal ingredients."),children:[(0,d.jsx)(u.Z,{className:"h-3 w-3 mr-1"}),(0,d.jsx)("span",{className:"hidden sm:inline",children:"Meal Prep"}),(0,d.jsx)("span",{className:"sm:hidden",children:"Prep"})]})]}),(0,d.jsx)(l.z,{type:"submit",disabled:!g||t,className:"bg-green-600 hover:bg-green-700 text-white p-1.5 md:p-2 rounded-lg h-7 w-7 md:h-8 md:w-8 ml-2",children:(0,d.jsx)(p.Z,{className:"w-3 h-3 md:w-4 md:h-4"})})]})]})})}var f=t(991);function j(){return(0,d.jsxs)("div",{className:"text-center mb-6",children:[(0,d.jsxs)("span",{className:"text-4xl font-semibold text-gray-900 mb-2 flex items-center justify-center gap-2",children:[(0,d.jsx)(f.Z,{className:"h-8 w-8 text-green-600"}),(0,d.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Food Nutrition AI"})]}),(0,d.jsx)("p",{className:"text-gray-600",children:"Your personal AI nutrition coach"})]})}function y(e){let{input:s,isLoading:t,handleSubmit:n,setInput:l}=e;return(0,d.jsx)("div",{className:" bg-white",children:(0,d.jsx)("div",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-80px)] px-4",children:(0,d.jsxs)("div",{className:"w-full max-w-3xl",children:[(0,d.jsx)(j,{}),(0,d.jsxs)("div",{className:"mb-8 flex flex-col",children:[(0,d.jsx)(o,{}),(0,d.jsx)(g,{input:s,isLoading:t,handleSubmit:n,setInput:l})]}),(0,d.jsx)("div",{className:"text-center",children:(0,d.jsxs)("div",{className:"inline-flex items-center space-x-2 px-4 py-2 bg-gray-50 rounded-full text-sm text-gray-600",children:[(0,d.jsx)(a.Z,{className:"h-4 w-4 text-blue-500"}),(0,d.jsx)("span",{children:"Get personalized nutrition plans with visual progress tracking"})]})})]})})})}var v=t(175),w=t(2875),b=t(630);function N(e){let{input:s,isLoading:t,handleSubmit:a,setInput:l}=e,r=(0,v._)(),o=(0,n.useRef)(null),m=(0,n.useRef)(null),{0:x,1:h}=(0,n.useState)(0),{isLoaded:u,data:p}=(0,w.a)(),f=(0,n.useMemo)(()=>{var e,s;return null!==(e=null===(s=(0,w.m)(p,r))||void 0===s?void 0:s.messages)&&void 0!==e?e:[]},[p,r]),y=(0,n.useMemo)(()=>!!(0,w.m)(p,r),[p,r]);(0,n.useEffect)(()=>{window.scrollTo({top:document.documentElement.scrollHeight,behavior:"instant"})},[f]);let N=(0,n.useCallback)(()=>{var e,s,t,n;let a=null!==(e=null==o||null===(s=o.current)||void 0===s?void 0:s.getBoundingClientRect().height)&&void 0!==e?e:0,l=null!==(t=null==m||null===(n=m.current)||void 0===n?void 0:n.getBoundingClientRect().height)&&void 0!==t?t:0;h(Math.floor(window.innerHeight-a-l))},[]);return((0,n.useLayoutEffect)(()=>(window.addEventListener("resize",N),N(),()=>{window.removeEventListener("resize",N)}),[y]),u)?(0,d.jsxs)("div",{className:"min-h-screen relative",children:[(0,d.jsx)("div",{id:"test",ref:o,className:"sticky top-0 px-6 py-4 border-b border-gray-100 bg-gray-50 ",children:(0,d.jsxs)("div",{className:" max-w-4xl flex flex-col md:flex-row gap-2 items-center justify-between m-auto",children:[(0,d.jsx)("div",{className:"items-center justify-between flex",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 text-center md:text-left",children:r.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),(0,d.jsx)("p",{className:"text-sm text-gray-600 mt-1 text-center md:text-left",children:"Your nutrition conversations from this day"})]})}),(0,d.jsxs)(i.default,{href:"/progress",className:"flex justify-center items-center text-blue-600 hover:text-blue-800",children:[(0,d.jsx)(c.B,{}),(0,d.jsxs)("span",{className:"font-medium text-sm px-3 py-1 flex items-center",children:[(0,d.jsx)("span",{className:"hidden md:flex",children:"View"})," →"]})]})]})}),(0,d.jsxs)("div",{className:"bg-white flex flex-col max-w-4xl m-auto",children:[(0,d.jsx)("div",{className:"space-y-6 flex-1 px-6 py-6 overflow-y-auto min-h-[]",style:{minHeight:"".concat(x,"px")},children:f.length>0?(0,d.jsx)(b.r,{messages:f,isLoading:t}):(0,d.jsx)("div",{style:{minHeight:"".concat(x,"px")},className:"text-center flex-1 flex justify-center items-center py-12 text-gray-500",children:(0,d.jsx)(j,{})})}),(0,d.jsx)("div",{ref:m,className:"sticky bottom-0 px-6 py-2 pb-3 bg-white mt-auto",children:(0,d.jsx)(g,{input:s,isLoading:t,handleSubmit:a,setInput:l})})]})," "]}):null}var k=t(7431),I=t(8427);function z(){let{isLoaded:e,data:s,addMessage:t,loadData:a,getHistory:l}=(0,w.a)(),r=(0,v._)(),{0:i,1:c}=(0,n.useState)(""),{0:o,1:m}=(0,n.useState)(!1);(0,n.useEffect)(()=>{e||a()},[]);let x=(0,n.useMemo)(()=>(0,w.m)(s,r),[s,r]),h=async e=>{m(!0);let s=l();t(r,{role:"user",parts:[{text:i}],timestamp:new Date}),c(""),t(r,{role:"model",parts:[{text:(await I.Z.post("".concat("https://foodnutrition-ai-backend-h0xae3fsy-nemanjas-projects-84fa5faa.vercel.app/","ai/nutrition"),{history:s,message:i})).data.message}],timestamp:new Date}),m(!1)};return e?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:(0,k.cn)("hidden md:hidden",!x&&"md:block"),children:(0,d.jsx)(y,{input:i,isLoading:o,handleSubmit:h,setInput:c})}),(0,d.jsx)("span",{className:(0,k.cn)("block md:hidden",x&&"md:block"),children:(0,d.jsx)(N,{input:i,isLoading:o,handleSubmit:h,setInput:c})})]}):null}}},e=>{var s=s=>e(e.s=s);e.O(0,[909,645,510,68,794,130,427,744],()=>s(5446)),_N_E=e.O()}]);